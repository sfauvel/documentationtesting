[#org_sfvl_doctesting_MainDocumentationTest_document_structure]
= Document structure

Documentation is composed with the header following by each test classes documentation.

A class documentation is composed with a title and a description.
Each test method has created a file which is included  to document the class.

You can overwrite methods to modify document generated.

.Default document generated
----
:toc: left
:nofooter:
:stem:

\include::../../../readme.adoc[leveloffset=+1]

== In main doc bis test

\include::docs/org/sfvl/doctesting/InMainDocBisTest.testX.approved.adoc[leveloffset=+2]

== Title for the document

Class comment is added to description.

\include::docs/org/sfvl/doctesting/InMainDocTest.testA.approved.adoc[leveloffset=+2]
\include::docs/org/sfvl/doctesting/InMainDocTest.testB.approved.adoc[leveloffset=+2]
----
.MainDocumentation methods overwritten
[source, java, indent=0]
----
            @Override
            protected Path getRelativizedPath(DocumentationNamer m, Path docFilePath) {
                return m.getFilePath().getFileName();
            }

            @Override
            protected String getTestClassTitle(Class<?> clazz) {
                return "from getTestClassTitle method " + clazz.getSimpleName();
            }

            @Override
            protected String getHeader() {
                return "from getHeader method";
            }

            @Override
            protected String getDescription(Class<?> classToDocument) {
                return "from getDescription method " + classToDocument.getSimpleName();
            }

----
.Custom document generated
----
from getHeader method

== from getTestClassTitle method InMainDocBisTest

from getDescription method InMainDocBisTest

\include::InMainDocBisTest.testX.approved.adoc[leveloffset=+2]

== from getTestClassTitle method InMainDocTest

from getDescription method InMainDocTest

\include::InMainDocTest.testA.approved.adoc[leveloffset=+2]
\include::InMainDocTest.testB.approved.adoc[leveloffset=+2]
----
.Test class used to in this examples
[source, java, indent=0]
----
@DisplayName("Title for the document")
class InMainDocTest {
    private final DocWriter docWriter = new DocWriter();
    @RegisterExtension
    ApprovalsExtension extension = new ApprovalsExtension(docWriter);

    @Test
    @DisplayName("Title for this test")
    public void testA() {
        docWriter.write("In my *test*");
    }

    @Test
    @DisplayName("Title for this test")
    public void testB() {
        docWriter.write("In my *test*");
    }
}

class InMainDocBisTest {
    private final DocWriter docWriter = new DocWriter();
    @RegisterExtension
    ApprovalsExtension extension = new ApprovalsExtension(docWriter);

    @Test
    @DisplayName("Title for this test")
    public void testX() {
        docWriter.write("In my *test*");
    }
}
----